import{_ as v,e as h,f as _,o as b,c as w,a as t,m as g,n,v as u,t as S,l as i,p as y,w as k,j as d,k as x,u as V}from"./index-C4P4iVt1.js";import{a as N}from"./api-DGvhhBH4.js";const C={class:"auth-page"},E={class:"auth-container"},B={class:"auth-card"},L={class:"form-group"},T={class:"form-group"},U=["disabled"],q={class:"auth-footer"},A={__name:"LoginView",setup(D){const p=V(),c=h(),r=_(),e=d({userName:"",password:""}),o=d(!1);async function f(){if(!o.value){o.value=!0;try{const a=await N.login(e.value);if(a.data.status==="SUCCESS"){const s=a.data.data;c.login(s),r.showSuccess(["ç™»å…¥æˆåŠŸï¼"]),p.push("/")}else r.showError(a.data.message||["ç™»å…¥å¤±æ•—"])}catch{r.showError(["ç™»å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦"])}finally{o.value=!1}}}return(a,s)=>{const m=x("router-link");return b(),w("div",C,[t("div",E,[t("div",B,[s[6]||(s[6]=t("div",{class:"auth-header"},[t("h1",{class:"auth-title"},"ğŸ‘‹ æ­¡è¿å›ä¾†"),t("p",{class:"auth-subtitle"},"ç™»å…¥æ‚¨çš„å¸³è™Ÿ")],-1)),t("form",{onSubmit:g(f,["prevent"]),class:"auth-form"},[t("div",L,[s[2]||(s[2]=t("label",{class:"form-label"},"ä½¿ç”¨è€…åç¨±",-1)),n(t("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>e.value.userName=l),type:"text",class:"form-input",placeholder:"è«‹è¼¸å…¥ä½¿ç”¨è€…åç¨±",required:""},null,512),[[u,e.value.userName]])]),t("div",T,[s[3]||(s[3]=t("label",{class:"form-label"},"å¯†ç¢¼",-1)),n(t("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>e.value.password=l),type:"password",class:"form-input",placeholder:"è«‹è¼¸å…¥å¯†ç¢¼",required:""},null,512),[[u,e.value.password]])]),t("button",{type:"submit",class:"btn btn-primary btn-block",disabled:o.value},S(o.value?"ç™»å…¥ä¸­...":"ç™»å…¥"),9,U)],32),t("div",q,[t("p",null,[s[5]||(s[5]=i("é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ ",-1)),y(m,{to:"/register"},{default:k(()=>[...s[4]||(s[4]=[i("ç«‹å³è¨»å†Š",-1)])]),_:1})])])])])])}}},I=v(A,[["__scopeId","data-v-71fff1e4"]]);export{I as default};
